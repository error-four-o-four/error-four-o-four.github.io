function l(e,t){if(!e||!(e instanceof t)){const n=e?e.constructor.name:"null";throw new Error(`Expected element to be a ${t.name}, but was ${n}`)}}const K=[{text:"GitHub",url:"https://github.com/error-four-o-four"},{text:"npm",url:"https://www.npmjs.com/~http404"},{text:"Discord",url:"https://discordapp.com/users/790552703058837514"},{text:"freeCodeCamp",url:"https://www.freecodecamp.org/errorfourofour"},{text:"OpenProcessing",url:"https://openprocessing.org/user/201401?view=sketches&o=48"}],m={avatar:'<svg id="avatar" viewBox="0 0 14 16" version="1.1" xmlns="http://www.w3.org/2000/svg"> <g> <path style="fill:#f4f5f7;" d="m 12.5,4.5 v 2 h -4 v -4 h -8 v -2 h 9 v 4 z" /> <path style="fill:#e0e9f8;" d="m 0.5,2 h 2 v 1.5 h -2 z m 7,0 h 2 v 1.5 h -2 z m 4,4 h 2 v 1.5 h -2 z" /> <path style="fill:#d6e3f5;" d="M 12,6 H 9 V 3 H 8 V 2 H 2 V 3 H 0.5 v 10.5 h 2 v -10 h 5 V 8 h 4 L 12,9 h 1 V 7 h -1 z m 0,6 v 1 l -0.5,0.5 v 1 h 2 v -2 L 13,12 Z" /> <path style="fill:#ccd9f4;" d="m 2,3 h 6 v 3 h 1 v 1 h 3 v 3 h -1 v 1 H 10 L 9.5,11.5 H 5 l -2.5,3 h -2 V 13 H 2 Z" /> <path style="fill:#ffffff" d="m 11,3 h 1 V 4 H 10 V 2 h 1 z M 6,4 H 7 V 6 H 2 V 5 H 3 V 4 H 4 V 3 h 2 z m 6,1 h 1 v 1 h -1 z" /> <path style="fill:#9cc7b5;" d="m 2,12 h 1 v -1 h 1 v -1 h 1 l 0.5,0.5 V 11 L 3,13.5 H 2.5 L 2,13 Z" /> <path style="fill:#b5cfd6;" d="m 6,9 h 2 v 1 h 2 v 1 L 9.5,11.5 H 6 Z" /> <path style="fill:#6bb763;" d="M 7.5,10.5 8,10 h 1 v 1.5 H 7.5 Z M 11,13 h 1 v 1.5 h -1 z" /> <path style="fill:#7ac372;" d="m 0.5,14 h 2 v 1.5 h -2 z m 13,0 v 1.5 H 12 V 14 Z" /> <path style="fill:#53b23c;" d="m 10,14 v 1.5 h 2 V 14 Z M 2,13 v 2.5 H 5.5 L 6,15 h 1 v -1 h 1 v -1 h 1 v -1 h 1 V 11 H 8 V 10 H 5 v 1 H 4 v 1 H 3 v 1 z" /> <path style="fill:#a4a1a4;" d="m 0,0 h 10 v 1 h 1 v 1 h 1 v 1 h 1 V 4 H 12 V 3 H 11 V 2 H 10 V 1 H 1 V 15.5 H 0.5 L 0,15 Z M 13.5,15.5 14,15 v -4 h -1 v 4.5 z" /> <path style="fill:#939193;" d="M 14,4 H 10 V 0 H 9 v 5 h 4 v 3 h 1 z M 9,16 h 5 V 15 H 9 Z M 0,16 H 6 V 15 H 0 Z" /> </g> </svg>',openprocessing:'<svg role="img" viewBox="0 0 32 27" version="1.1" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"> <title>OpenProcessing</title> <path fill="currentCOlor" d="M 13.200228,0 A 13.2,13.2 0 0 0 0,13.200228 13.2,13.2 0 0 0 13.200228,26.399939 13.2,13.2 0 0 0 15.999023,26.095048 13.199961,13.2 0 0 0 18.800403,26.399939 13.199961,13.2 0 0 0 32.000114,13.200228 13.199961,13.2 0 0 0 18.800403,0 13.199961,13.2 0 0 0 16.008842,0.30334066 13.2,13.2 0 0 0 13.200228,0 Z m 0,0.99993896 a 12.2,12.2 0 0 1 0.54777,0.0129191 13.199961,13.2 0 0 0 -8.1473063,12.1873699 v 9.532235 A 12.2,12.2 0 0 1 0.99993896,13.200228 12.2,12.2 0 0 1 13.200228,0.99993896 Z m 5.600175,0 A 12.199964,12.2 0 0 1 31.000175,13.200228 12.199964,12.2 0 0 1 18.800403,25.4 12.199964,12.2 0 0 1 18.270719,25.379329 13.2,13.2 0 0 0 26.399939,13.200228 13.2,13.2 0 0 0 18.285706,1.0200928 12.199964,12.2 0 0 1 18.800403,0.99993896 Z M 16.001607,1.3270508 A 12.2,12.2 0 0 1 25.4,13.200228 12.2,12.2 0 0 1 16.000057,25.072371 12.199964,12.2 0 0 1 6.6001139,13.200228 12.199964,12.2 0 0 1 16.001607,1.3270508 Z M 6.6001139,18.22266 A 13.199961,13.2 0 0 0 13.729911,25.379329 12.2,12.2 0 0 1 13.200228,25.4 12.2,12.2 0 0 1 6.6001139,23.451282 Z" /> </svg> ',user:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M18 21a6 6 0 0 0-12 0"/><circle cx="12" cy="11" r="4"/><rect width="18" height="18" x="3" y="3" rx="2"/></g></svg>',home:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"/><path d="M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/></g></svg>',files:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M20 7h-3a2 2 0 0 1-2-2V2"/><path d="M9 18a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h7l4 4v10a2 2 0 0 1-2 2Z"/><path d="M3 7.6v12.8A1.6 1.6 0 0 0 4.6 22h9.8"/></g></svg>',folders:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M20 17a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3.9a2 2 0 0 1-1.69-.9l-.81-1.2a2 2 0 0 0-1.67-.9H8a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2Z"/><path d="M2 8v11a2 2 0 0 0 2 2h14"/></g></svg>',blocks:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><rect width="7" height="7" x="14" y="3" rx="1"/><path d="M10 21V8a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1H3"/></g></svg>',mail:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="m22 7l-8.991 5.727a2 2 0 0 1-2.009 0L2 7"/><rect width="20" height="16" x="2" y="4" rx="2"/></g></svg>',github:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="currentColor" d="M12 .297c-6.63 0-12 5.373-12 12c0 5.303 3.438 9.8 8.205 11.385c.6.113.82-.258.82-.577c0-.285-.01-1.04-.015-2.04c-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729c1.205.084 1.838 1.236 1.838 1.236c1.07 1.835 2.809 1.305 3.495.998c.108-.776.417-1.305.76-1.605c-2.665-.3-5.466-1.332-5.466-5.93c0-1.31.465-2.38 1.235-3.22c-.135-.303-.54-1.523.105-3.176c0 0 1.005-.322 3.3 1.23c.96-.267 1.98-.399 3-.405c1.02.006 2.04.138 3 .405c2.28-1.552 3.285-1.23 3.285-1.23c.645 1.653.24 2.873.12 3.176c.765.84 1.23 1.91 1.23 3.22c0 4.61-2.805 5.625-5.475 5.92c.42.36.81 1.096.81 2.22c0 1.606-.015 2.896-.015 3.286c0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>',discord:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="currentColor" d="M20.317 4.37a19.8 19.8 0 0 0-4.885-1.515a.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.3 18.3 0 0 0-5.487 0a13 13 0 0 0-.617-1.25a.08.08 0 0 0-.079-.037A19.7 19.7 0 0 0 3.677 4.37a.1.1 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.08.08 0 0 0 .031.057a19.9 19.9 0 0 0 5.993 3.03a.08.08 0 0 0 .084-.028a14 14 0 0 0 1.226-1.994a.076.076 0 0 0-.041-.106a13 13 0 0 1-1.872-.892a.077.077 0 0 1-.008-.128a10 10 0 0 0 .372-.292a.07.07 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.07.07 0 0 1 .078.01q.181.149.373.292a.077.077 0 0 1-.006.127a12.3 12.3 0 0 1-1.873.892a.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.08.08 0 0 0 .084.028a19.8 19.8 0 0 0 6.002-3.03a.08.08 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.06.06 0 0 0-.031-.03M8.02 15.33c-1.182 0-2.157-1.085-2.157-2.419c0-1.333.956-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.956 2.418-2.157 2.418m7.975 0c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.955-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.946 2.418-2.157 2.418"/></svg>',freecodecamp:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="currentColor" d="M19.885 3.906a.62.62 0 0 0-.354.12c-.08.08-.161.196-.161.313c0 .2.236.474.673.923c1.822 1.754 2.738 3.903 2.732 6.494c-.007 2.867-.97 5.17-2.844 6.954c-.394.353-.556.63-.557.867c0 .116.08.237.16.353a.58.58 0 0 0 .353.162c.434 0 1.04-.512 1.833-1.509c1.542-1.89 2.24-3.978 2.279-6.824c.036-2.847-.857-4.777-2.603-6.77c-.63-.712-1.153-1.082-1.511-1.083m-15.769.002c-.358 0-.882.37-1.51 1.083C.858 6.984-.035 8.914.001 11.761c.04 2.846.737 4.933 2.28 6.824c.791.997 1.398 1.51 1.832 1.509a.57.57 0 0 0 .352-.162c.08-.116.16-.237.16-.353c0-.237-.162-.514-.556-.866c-1.873-1.785-2.837-4.087-2.844-6.955c-.006-2.591.91-4.74 2.732-6.494c.437-.449.674-.722.673-.923c0-.117-.08-.233-.161-.313a.62.62 0 0 0-.354-.12zm7.056.895s.655 2.081-2.649 6.727c-3.156 4.433 1.045 7.15 1.432 7.386c-.281-.18-2.001-1.5.402-5.423c.466-.77 1.076-1.47 1.834-3.041c0 0 .67.946.32 2.998c-.523 3.101 2.271 2.214 2.314 2.257c.976 1.15-.808 3.17-.917 3.233c-.108.061 5.096-3.13 1.399-7.935c-.253.253-.582 1.442-1.267 1.266c-.684-.174 2.125-3.494-2.868-7.468M9.955 18.916q.036.024.038.024z"/></svg>',npm:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="currentColor" d="M1.763 0C.786 0 0 .786 0 1.763v20.474C0 23.214.786 24 1.763 24h20.474c.977 0 1.763-.786 1.763-1.763V1.763C24 .786 23.214 0 22.237 0zM5.13 5.323l13.837.019l-.009 13.836h-3.464l.01-10.382h-3.456L12.04 19.17H5.113z"/></svg>'},E=["main__container","main__content","main__lines","main__minimap","minimap__indicator","nav__container","nav__items","nav__links"],S=["home","projects","skills"],W={elements:E,sections:S},V=(e,t)=>Object.assign(e,{[t]:t});E.reduce(V,{});const w=S.reduce(V,{}),_=e=>{const t=document.getElementById(e);return l(t,HTMLElement),t},[Q,U,G,A,X,ee,te,ne]=W.elements.map(e=>_(e)),$=document.querySelector("main");l($,HTMLElement);const I=document.createElement("canvas");A.append(I);const se=W.sections.reduce((e,t)=>{const n=_(t);return Object.assign(e,{[t]:n})},{}),o={container:Q,main:$,content:U,sections:se,linesWrap:G,minimapWrap:A,minimapIndicator:X,minimap:I,navContainer:ee,navItems:te,navLinks:ne},oe=()=>{const e=document.createElement("div");e.innerHTML=m.avatar,o.navContainer.children[0].prepend(e)},re=e=>{const t=document.createElement("a");return t.href=`#${e.hash}`,t.innerHTML=`<span inert="true" class="sr-only">Internal link to ${e.hash} section</span>${e.svg}`,t},ae=[{hash:w.home,svg:m.home},{hash:w.projects,svg:m.folders},{hash:w.skills,svg:m.blocks}],ie=e=>{const t=document.createElement("a"),n=m[e.text.toLocaleLowerCase()];return t.href=e.url,t.rel="noopener nofollow",t.target="_blank",t.innerHTML=`<span inert="true" class="sr-only">External link to ${e.text}</span>${n}`,t},ce=()=>{oe();const e=new DocumentFragment;e.append(...ae.map(n=>re(n))),o.navItems.append(e);const t=new DocumentFragment;t.append(...K.map(n=>ie(n))),o.navLinks.append(t)},g={fccTimer:{title:"freeCodeCamp pomodoro app",descr:"One of five projects, to earn the Front End Development Libraries certification.",links:{repo:"https://github.com/error-four-o-four/fcc-twenty-five-five",demo:"https://error-four-o-four.github.io/projects/fcc-twenty-five-five-clock/"},tags:["Frontend","React"],image:{src:"fcc-timer/image.jpg",width:480,height:270},thumb:"fcc-timer/thumb.webp"},jss:{title:"javascript‑software‑synthesizer",descr:`Open Source Contribution and Collaboration.
	The JSS-01 | JavaScript Software Synthesizer -&nbsp;made by<span>&ensp;</span><a href="https://michaelkolesidis.com/" >Michael Kolesidis</a><span>&nbsp;</span>- is a web application enabling you to make and play music in the browser.`,links:{repo:"https://github.com/michaelkolesidis/javascript-software-synthesizer",demo:"https://javascript-software-synthesizer.vercel.app/"},tags:["Frontend","Vanilla","Tone.js","Web Audio API"],image:{src:"jss/image.jpg",width:480,height:270},thumb:"jss/thumb.webp"},kummerbot:{title:"Kummerbot",descr:"An interactive (pseudo) Chat Bot App, written to simplify consult and complaint management in an enterprise.",links:{repo:"https://github.com/error-four-o-four/kummerbot",demo:"https://kummerbot.pro-liberis.de/chat"},tags:["Frontend","Vanilla"],image:{src:"kummerbot/image.jpg",width:480,height:307},thumb:"kummerbot/thumb.webp"},p5Sketches:{title:"p5.js sketches",descr:"A hotchpotch (monorepo) of p5.js sketches",links:{repo:"https://github.com/error-four-o-four/sketches",demo:"https://error-four-o-four.github.io/sketches/"},tags:["Frontend","p5.js","generative art"]}},z=e=>`
<span class="clr-yellow">const</span>
<span>${e}</span>
<span class="clr-orange">&equals;</span>
<span class="clr-yellow">&lbrack;</span>`,D=()=>`
<span class="clr-yellow">&rbrack;</span>&semi;
<br />
<br />
<br />`,le=()=>`
<article class="project indent">
	<span class="clr-magenta">&lcub;</span>
	<div class="indent"></div>
	<span class="clr-magenta">&rcub;</span>&comma;
</article>`,pe=(e,t)=>{e.innerHTML+=`
<span class="clr-cyan">title</span>&colon;
<span class="clr-green">&apos;${t.replaceAll(/\s+/g,"&nbsp;")}&apos;</span>&comma;
<br />`},he=(e,t,n)=>{const s=document.createElement("div");s.classList.add("project__thumb"),s.style.aspectRatio=`${t.width/t.height}`;const r="./assets/",i=`url(${r}${n})`;s.style.backgroundImage=i;const c=document.createElement("img");c.loading="lazy",c.src=r+t.src,s.append(c),e.append(s)},T=(e,t)=>{const n=document.createElement("a");return n.href=e,n.rel="noopener nofollow",n.target="_blank",n.innerHTML=t,n},me=(e,t)=>{e.innerHTML+=`
<span class="clr-cyan">links</span>&colon;
<span class="clr-blue">&lbrack;</span>
<div class="project__links indent clr-green"></div>
<span class="clr-blue">&rbrack;</span>&comma;`;const n=e.querySelector("div.project__links");l(n,HTMLDivElement);const s=T(t.repo,"repository");if(n.append(s),!t.demo)return;const r=T(t.demo,"live");n.innerHTML+=`<span class="clr-default">&comma;</span>
<br />`,n.append(r)},de=(e,t)=>{e.innerHTML+=`
<br />
<span class="clr-cyan">tags</span>&colon;
<span class="clr-blue">&lbrack;</span>
<div class="project__tags indent clr-green">
	${t.map(n=>`<span>&apos;${n}&apos;</span>`).join(`<span class="clr-default">&comma;</span>
<br />
`)}
</div>
<span class="clr-blue">&rbrack;</span>&comma;	`},ge=(e,t)=>{const n=document.createElement("p");n.classList.add("comment"),n.innerHTML=t,e.append(n)},ue=(e,t)=>{var s;e.innerHTML=le();const n=(s=e.content.firstElementChild)==null?void 0:s.children[1];l(n,HTMLDivElement),pe(n,t.title),t.image&&t.thumb&&he(n,t.image,t.thumb),ge(n,t.descr),me(n,t.links),t.tags&&de(n,t.tags)},ve=()=>{const e=new DocumentFragment,t=document.createElement("template");t.innerHTML=z("projects"),e.append(t.content.cloneNode(!0));const n=[g.kummerbot,g.jss,g.fccTimer,g.p5Sketches];for(const s of n)ue(t,s),e.append(t.content.cloneNode(!0));t.innerHTML=D(),e.append(t.content.cloneNode(!0)),o.sections.projects.append(e)},fe=[{text:"HTML5",url:"https://html.spec.whatwg.org/multipage/"},{text:"CSS3",url:"https://www.w3.org/Style/CSS/Overview.en.html"},{text:"PostCSS",url:"https://postcss.org/"},{text:"JavaScript",url:"https://262.ecma-international.org/13.0/"},{text:"TypeScript",url:"https://www.typescriptlang.org/"},{text:"Node.js",url:"https://nodejs.org/en/"},{text:"Rollup.js",url:"https://www.rollupjs.org/"},{text:"Vite",url:"https://vitejs.dev/"},{text:"Vitest",url:"https://vitest.dev/"}],we=[{text:"Responsive Web Design",titleSmall:"Responsive Design",url:"https://www.freecodecamp.org/certification/errorfourofour/responsive-web-design"},{text:"JavaScript Algorithms and Data Structures",titleSmall:"JavaScript Algorithms",url:"https://www.freecodecamp.org/certification/errorfourofour/javascript-algorithms-and-data-structures"},{text:"Front End Development Libraries",titleSmall:"Frontend",url:"https://www.freecodecamp.org/certification/errorfourofour/front-end-development-libraries"},{text:"Back End Development and APIs",titleSmall:"Backend",url:"https://www.freecodecamp.org/certification/errorfourofour/back-end-development-and-apis"},{text:"Relational Database",titleSmall:"Database",url:"https://www.freecodecamp.org/certification/errorfourofour/relational-database-v8"}],B=e=>`
<div class="indent">
	<span class="clr-cyan">${e}</span>&colon;
	<span class="clr-magenta">&lsqb;</span>
	<div class="indent clr-green"></div>
	<span class="clr-magenta">&rsqb;</span>&comma;
	<br />
</div>`,He=e=>`
<span>&apos;</span><a
	target="_blank"
	href="${e.url}"
	rel="noopener nofollow"
	><span>${e.text}</span></a
><span>&apos;</span>`,be=(e,t)=>{var s;e.innerHTML=B("technologies");const n=(s=e.content.firstElementChild)==null?void 0:s.children[2];l(n,HTMLDivElement);for(let r=0,i=t.length-1;r<=i;r+=1)n.innerHTML+=He(t[r]),r<i&&(n.innerHTML+=`<span class="clr-default">&comma;</span>
`),r>0&&r%4===0&&(n.innerHTML+=`<br />
`),(r===0||r%4!==0&&r<i)&&(n.innerHTML+=`<br class="display-lt560" />
`)},Me=e=>{const t=e.titleSmall?`<span class="display-lt480">${e.titleSmall}</span><span class="display-gt480">${e.text}</span>`:`<span>${e.text}</span>`;return`
		<span>&apos;</span><a
			target="_blank"
			href="${e.url}"
			rel="noopener nofollow"
			>${t}</a
		><span>&apos;</span>`},ke=(e,t)=>{var s;e.innerHTML=B("certificates");const n=(s=e.content.firstElementChild)==null?void 0:s.children[2];l(n,HTMLDivElement);for(let r=0,i=t.length-1;r<=i;r+=1)n.innerHTML+=Me(t[r]),r<i&&(n.innerHTML+=`<span class="clr-default">&comma;</span>
<br />
`)},ye=()=>`
<span class="clr-yellow">const</span>
<span>developer</span>
<span class="clr-orange">&equals;</span>
<span class="clr-orange">new</span>
<span class="clr-yellow">Developer&lpar;</span>
<div class="indent">
	<span>properties&comma;</span>
	<br />
	<span>projects&comma;</span>
	<br />
	<span>skills</span>
</div>
<span class="clr-yellow">&rpar;</span><span>&semi;</span>
<br />
<br />
<br />

<span>developer.</span><span class="clr-yellow">doStuff&lpar;&rpar;</span
><span>&semi;</span>
<br />
<br />
<br />

<p class="comment">&copy; ${new Date().getFullYear()}</p>`,Le=()=>{const e=new DocumentFragment,t=document.createElement("template");t.innerHTML=z("skills"),e.append(t.content.cloneNode(!0)),be(t,fe),e.append(t.content.cloneNode(!0)),ke(t,we),e.append(t.content.cloneNode(!0)),t.innerHTML=D(),e.append(t.content.cloneNode(!0)),t.innerHTML=ye(),e.append(t.content.cloneNode(!0)),o.sections.skills.append(e)},{body:y}=document,xe=()=>window.innerWidth||y.clientWidth,Te=()=>window.innerHeight||y.clientHeight,Ce=()=>parseInt(getComputedStyle(y).lineHeight),je=()=>{const e=document.createElement("span");e.innerHTML="&nbsp;",o.content.append(e);const t=e.getBoundingClientRect();return e.remove(),[t.width,t.height,t.height/t.width]},C=2,u=960,a={windowWidth:0,windowHeight:0,characterWidth:0,characterHeight:0,characterRatio:0,lineHeight:0,contentWidth:0,contentHeight:0,skipUpdate(e,t){const n=Math.abs(this.windowWidth-e),s=Math.abs(this.windowHeight-t);return n<C&&s===0||n===0&&s<C},triggeredMediaQuery(e){return a.windowWidth>=u&&e<u||a.windowWidth<u&&e>=u},onFontSizeHasChanged(){const[e,t,n]=je();this.characterWidth=e,this.characterHeight=t,this.characterRatio=n,this.lineHeight=Ce()}},{minimap:p,minimapWrap:L,minimapIndicator:b}=o,F=1,H=p.getContext("2d"),R=e=>Math.floor(e/a.characterWidth*F),M=e=>Math.floor(e/a.characterHeight*a.characterRatio*F),Ee=()=>{p.width=R(a.contentWidth),p.height=M(a.contentHeight);const e=M(a.windowHeight);b.style.height=`${e}px`},O=e=>getComputedStyle(e).color,x=({x:e,y:t,width:n,height:s},r)=>{e-=o.main.offsetLeft,t+=o.container.scrollTop,[e,n]=[e,n].map(i=>R(i)),[t,s]=[t,s].map(i=>M(i)),H.fillStyle=r,H.moveTo(e,t),H.fillRect(e,t,n,s)},Se=e=>{l(e,HTMLElement);const t="rgb(34, 34, 34)",n=e.getBoundingClientRect();x(n,t)},We=e=>{l(e,HTMLElement);const t=O(e),n=document.createRange();for(const s of e.childNodes){if(s.nodeType!==3||!s.textContent)continue;const r=[];s.textContent=s.textContent.trim().replace(/\s+/g," "),n.setStart(s,0),n.setEndAfter(s);const i=n.getBoundingClientRect();for(let c=i.y;c<i.y+i.height;c+=a.lineHeight)r.push(new DOMRect(i.x-3*a.characterWidth,c,2*a.characterWidth,a.characterHeight));for(let c=0,f=s.textContent.length;c<f;c+=1){const Y=s.textContent[c];c<f-1&&!/\s/.test(Y)||(n.setEnd(s,c),r.push(n.getBoundingClientRect()),c+1<f&&n.setStart(s,c+1))}for(const c of r)x(c,t)}},q=e=>{for(const t of e){if(t.classList.contains("comment")){We(t);continue}if(t.classList.contains("project__thumb")){Se(t);continue}if(t.children.length>0){q(t.children);continue}if(t.localName==="br")continue;const n=t.getBoundingClientRect();n.width===0||n.height===0||x(n,O(t))}},Ve=()=>{Ee(),q(o.content.children),d()},d=()=>{const e=L.offsetHeight,t=p.offsetHeight,n=o.container.scrollTop/a.contentHeight;if(t<=e){const s=n*t;b.style.top=`${s}px`,p.style.removeProperty("top")}else{const s=n*e;b.style.top=`${s}px`;const r=n*(e-t);p.style.top=`${r}px`}},N=e=>{const t=p.offsetHeight<=L.offsetHeight?e:e-parseFloat(p.style.top);o.container.scrollTop=t/p.offsetHeight*o.container.scrollHeight-.5*a.windowHeight},_e=e=>{o.container.scrollTop+=e.deltaY,d()};let v=!1;const Ae=e=>{N(e.clientY),d(),e.target!==L&&(v=!0)},$e=e=>{v&&(N(e.clientY),d())},Ie=()=>{v&&(v=!1)},ze=()=>{const e=a.lineHeight;for(const t of Object.values(o.sections)){t.style.minHeight&&t.style.removeProperty("min-height");const n=Math.ceil(t.offsetHeight/e)*e;t.style.setProperty("min-height",n+"px")}},De=()=>{const e=document.createElement("div");e.classList.add("main__line"),o.linesWrap.append(e)},Be=()=>{const e=10*a.lineHeight,t=a.contentHeight-e,n=o.linesWrap.childElementCount*e;if(n<t){let s=n;for(;s<t;)De(),s+=e}o.linesWrap.offsetHeight>=a.contentHeight?o.linesWrap.style.setProperty("max-height",`${a.contentHeight}px`):o.linesWrap.removeAttribute("style")},Z=()=>{const e=xe(),t=Te();a.skipUpdate(e,t)||((!a.windowWidth||a.triggeredMediaQuery(e))&&a.onFontSizeHasChanged(),a.windowWidth=e,a.windowHeight=t,ze(),a.contentWidth=o.content.offsetWidth,a.contentHeight=o.content.offsetHeight,!(getComputedStyle(o.minimapWrap).display!=="none"))||(Be(),Ve())},P=e=>e.localName==="a"?e:e.parentElement?P(e.parentElement):null,Fe=e=>[...o.navItems.getElementsByTagName("a")].find(t=>t.href.split("#")[1]===e)||null,k="nav__item-active",Re=()=>o.navItems.querySelector("."+k);let h=null;const J=()=>{const e=h,t=.5*a.windowHeight,{scrollTop:n}=o.container;for(const r of Object.values(o.sections)){const i=r.offsetTop-n,c=i+r.scrollHeight;if(!(i>t)&&!(c<=t)){h=r.id;break}}if(!h||e===h)return;let s=Re();s==null||s.classList.remove(k),s=Fe(h),s==null||s.classList.add(k)},Oe=e=>{e.preventDefault(),l(e.target,Element);const t=P(e.target);l(t,HTMLAnchorElement);const n=t.hash.substring(1),s=o.sections[n];s&&s.scrollIntoView({behavior:"smooth"})},qe=()=>{d(),J()},Ne=()=>{o.container.addEventListener("scroll",()=>{requestAnimationFrame(qe)}),o.minimapWrap.addEventListener("wheel",e=>{requestAnimationFrame(_e.bind(null,e))}),o.minimapWrap.addEventListener("mousedown",e=>{requestAnimationFrame(Ae.bind(null,e))}),o.minimapWrap.addEventListener("mousemove",e=>{requestAnimationFrame($e.bind(null,e))}),o.minimapWrap.addEventListener("mouseup",()=>{requestAnimationFrame(Ie)}),o.navItems.addEventListener("click",Oe),window.addEventListener("resize",()=>{requestAnimationFrame(Z)})},Ze=()=>{const e=document.querySelectorAll(".project__thumb");for(const t of e){const n=t.firstElementChild;l(n,HTMLImageElement);const s=()=>{t.classList.add("loaded"),n.onload=null};n.complete?s():n.onload=s}},j=e=>e.style.setProperty("animation","none"),Pe=()=>{ce(),ve(),Le(),Ze(),Z(),J(),Ne(),j(o.minimapWrap),j(o.navContainer)};export{Pe as default};
